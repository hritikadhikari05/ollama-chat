(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8247:function(e,t,s){Promise.resolve().then(s.bind(s,5856))},5856:function(e,t,s){"use strict";s.d(t,{default:function(){return p}});var r=s(7437),a=s(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,a.forwardRef)((s,r)=>{let{color:i="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:x="",children:m,...u}=s;return(0,a.createElement)("svg",{ref:r,...n,width:o,height:o,stroke:i,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(l(e)),x].join(" "),...u},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s},o=i("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),c=i("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),d=i("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var x=()=>(0,r.jsx)("div",{className:"flex justify-start animate-fade-in",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3 max-w-3xl",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center",children:(0,r.jsx)(o,{className:"w-4 h-4 text-white"})}),(0,r.jsx)("div",{className:"px-4 py-3 rounded-2xl rounded-bl-md bg-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"Thinking..."})]})})]})});let m=i("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),u=i("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),h=i("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var g=e=>{let{message:t}=e,s="user"===t.role,[n,l]=(0,a.useState)(null),i=async(e,t)=>{try{await navigator.clipboard.writeText(e),l(t),setTimeout(()=>l(null),2e3)}catch(e){console.error("Failed to copy text: ",e)}};return(0,r.jsx)("div",{className:"flex ".concat(s?"justify-end":"justify-start"," animate-fade-in"),children:(0,r.jsxs)("div",{className:"flex max-w-3xl ".concat(s?"flex-row-reverse":"flex-row"," items-start space-x-3 ").concat(s?"space-x-reverse":""),children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat(s?"bg-blue-600":"bg-gray-700"),children:s?(0,r.jsx)(h,{className:"w-4 h-4 text-white"}):(0,r.jsx)(o,{className:"w-4 h-4 text-white"})}),(0,r.jsxs)("div",{className:"px-4 py-3 rounded-2xl max-w-md lg:max-w-2xl ".concat(s?"bg-blue-600 text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"),children:[(0,r.jsxs)("div",{className:"prose prose-sm max-w-none",children:[(e=>{let s=[],a=0;return e.replace(/```(\w+)?\n([\s\S]*?)```/g,(e,r,n)=>{let l="code-block-".concat(t.id,"-").concat(a++);return s.push({id:l,language:r||"",content:n.trim()}),"__CODE_BLOCK_".concat(l,"__")}).split("\n").map((e,t)=>{if(e.includes("__CODE_BLOCK_")){var a;let l=null===(a=e.match(/__CODE_BLOCK_(.*?)__/))||void 0===a?void 0:a[1];if(!l)return null;let o=s.find(e=>e.id===l);if(o)return(0,r.jsx)("div",{className:"my-3",children:(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 relative group",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-400 uppercase font-mono",children:o.language||"code"}),(0,r.jsx)("button",{onClick:()=>i(o.content,l),className:"p-1 bg-gray-700 rounded text-gray-300 hover:bg-gray-600 transition-colors",title:"Copy code",children:n===l?(0,r.jsx)(m,{className:"w-4 h-4 text-green-400"}):(0,r.jsx)(u,{className:"w-4 h-4"})})]}),(0,r.jsx)("pre",{className:"text-sm text-green-400 font-mono overflow-x-auto whitespace-pre",children:(0,r.jsx)("code",{children:o.content})})]})},t)}if(e.startsWith("# "))return(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.substring(2)},t);if(e.startsWith("## "))return(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:e.substring(3)},t);if(e.startsWith("### "))return(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:e.substring(4)},t);let l=e;return(l=(l=l.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")).replace(/`([^`]+)`/g,'<code class="bg-gray-200 px-1 py-0.5 rounded text-sm font-mono">$1</code>'),""===e.trim())?(0,r.jsx)("br",{},t):(0,r.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap break-words",dangerouslySetInnerHTML:{__html:l}},t)})})(t.content),t.isStreaming&&(0,r.jsx)("span",{className:"inline-block w-2 h-4 bg-gray-500 ml-1 animate-typing-cursor"})]}),(0,r.jsxs)("p",{className:"text-xs mt-2 ".concat(s?"text-blue-100":"text-gray-500"),children:[t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),t.isStreaming&&(0,r.jsx)("span",{className:"ml-2 text-blue-500",children:"typing..."}),!s&&(0,r.jsx)("span",{className:"ml-2 text-gray-400",children:"• DevTacks"})]})]})]})})},p=()=>{let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(""),[l,i]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),h=(0,a.useRef)(null),p=(0,a.useRef)(null),f=(0,a.useRef)(null),b=()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,a.useEffect)(()=>{b()},[e]);let y=async()=>{if(!s.trim()||l)return;let e={id:Date.now().toString(),role:"user",content:s.trim(),timestamp:new Date},r=(Date.now()+1).toString(),a={id:r,role:"assistant",content:"",timestamp:new Date,isStreaming:!0};t(t=>[...t,e,a]),n(""),i(!0),u(null);try{f.current=new AbortController;let s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/plain"},body:JSON.stringify({model:"gemma3:4b",messages:[{role:"system",content:"You are a Senior Designer at DevTacks company. You specialize in UI/UX design, design systems, and creating exceptional user experiences. Format your responses with: **bold** for emphasis, `inline code` for design tools/terms, ```code blocks``` for CSS/design code, and use different heading levels (# ## ###) for structure. Always be creative, user-focused, and design-driven."},{role:"user",content:e.content}],stream:!0}),signal:f.current.signal});if(!s.ok){let e=await s.text();throw Error("HTTP error! status: ".concat(s.status,", message: ").concat(e))}if(!s.body)throw Error("Response body is null");let a=s.body.getReader(),n=new TextDecoder,l="";for(;;){let{done:e,value:s}=await a.read();if(e)break;let i=n.decode(s,{stream:!0});for(;i.length>0;)try{var o;let e=0,s=-1;for(let t=0;t<i.length;t++)if("{"===i[t]&&e++,"}"===i[t]&&(e--,0===e)){s=t+1;break}if(-1===s)break;let a=i.substring(0,s),n=JSON.parse(a);(null===(o=n.message)||void 0===o?void 0:o.content)&&(l+=n.message.content,t(e=>e.map(e=>e.id===r?{...e,content:l}:e))),i=i.substring(s)}catch(t){console.warn("Failed to parse JSON object:",i.substring(0,100),t);let e=i.indexOf("{",1);if(-1===e)break;i=i.substring(e)}}t(e=>e.map(e=>e.id===r?{...e,isStreaming:!1}:e))}catch(e){if(console.error("Full error details:",e),e instanceof Error&&"AbortError"===e.name){t(e=>e.map(e=>e.id===r?{...e,content:"Request cancelled.",isStreaming:!1}:e));return}t(e=>e.map(e=>e.id===r?{...e,content:"Sorry, I encountered an error while generating a response.",isStreaming:!1}:e)),e instanceof TypeError&&e.message.includes("fetch")?u("Network error: Unable to connect to Ollama server. Please check if the server is running and accessible."):u("Ollama API Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{i(!1),f.current=null}};return(0,r.jsxs)("div",{className:"flex flex-col h-screen max-w-4xl mx-auto bg-white shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 rounded-full",children:(0,r.jsx)(o,{className:"w-6 h-6 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"DevTacks"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Senior Designer • Powered by Ollama"})]})]}),e.length>0&&(0,r.jsx)("button",{onClick:()=>{t([]),u(null)},className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:"Clear Chat"})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===e.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,r.jsx)("div",{className:"p-4 bg-blue-50 rounded-full mb-4",children:(0,r.jsx)(c,{className:"w-12 h-12 text-blue-500"})}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Welcome to Ollama Chat"}),(0,r.jsx)("p",{className:"text-gray-600 max-w-md",children:"Start a conversation with your local AI model. Ask questions, get help, or just chat!"})]}):(0,r.jsxs)(r.Fragment,{children:[e.map(e=>(0,r.jsx)(g,{message:e},e.id)),l&&e.length>0&&!e.some(e=>e.isStreaming)&&(0,r.jsx)(x,{}),(0,r.jsx)("div",{ref:h})]}),m&&(0,r.jsx)("div",{className:"mx-auto max-w-2xl",children:(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsx)("p",{className:"text-red-800 text-sm",children:m})})})]}),(0,r.jsx)("div",{className:"border-t border-gray-200 bg-white p-4",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-end space-x-3",children:[(0,r.jsx)("div",{className:"flex-1 relative",children:(0,r.jsx)("input",{ref:p,type:"text",value:s,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),y())},placeholder:"Type your message...",disabled:l,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"})}),l?(0,r.jsx)("button",{onClick:()=>{f.current&&f.current.abort()},className:"p-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200 flex items-center justify-center min-w-[48px]",title:"Cancel request",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}):(0,r.jsx)("button",{onClick:y,disabled:!s.trim()||l,className:"p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center min-w-[48px]",children:(0,r.jsx)(d,{className:"w-5 h-5"})})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Press Enter to send • Connected to Ollama"})]})})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=8247)}),_N_E=e.O()}]);